{% extends "base.html" %}
{% load static i18n %}
{% block title %}Tickets{% endblock %}
{% load crispy_forms_tags %}


{% block content %}

      <div class="row">
        <!--Complaints-->
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-primary o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-comments"></i>
              </div>
              <div class="mr-5"><h6>{{ user_complaints_count }} Complaints</h6></div>
            </div>
            <a class="card-footer text-white clearfix small z-1" data-toggle="collapse" href="#collapsecomplaints" aria-expanded="false" aria-controls="collapsecomplaints">
              <span class="float-left">View Details</span>
              <span class="float-right">
                <i class="fa fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
        <!--Requests-->
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-warning o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-list"></i>
              </div>
              <div class="mr-5"><h6>{{ user_requests_count }} Requests</h6></div>
            </div>
            <a class="card-footer text-white clearfix small z-1"  data-toggle="collapse" href="#collapserequests" aria-expanded="false" aria-controls="collapserequests">
              <span class="float-left">View Details</span>
              <span class="float-right">
                <i class="fa fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
        <!--Cases-->
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-danger o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-support"></i>
              </div>
              <div class="mr-5"><h6>{{ user_cases_count }} Cases</h6></div>
            </div>
            <a class="card-footer text-white clearfix small z-1"  data-toggle="collapse" href="#collapsecases" aria-expanded="false" aria-controls="collapsecases">
              <span class="float-left">View Details</span>
              <span class="float-right">
                <i class="fa fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
       <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-success o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-shopping-cart"></i>
              </div>
              <div class="mr-5"><h6>empty</h6></div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left">View Details</span>
              <span class="float-right">
                <i class="fa fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
      </div>


      <!--Complaints-->
      <div class="collapse" id="collapsecomplaints">
        <div class="card bg-primary ">

        <div class="card card-body">
         <div class="row">
           <!--Open-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-primary text-white" >
                <div class="float-left">
                  <i class="fa fa-envelope-open-o fa-lg"  aria-hidden="true"></i>
                  <span class="ml-1">Open</span>
                </div>
                <div class="float-right"><strong>{{ user_complaints_count_open }}</strong></div>
              </div>

              <div class="card-body">

                    {% for ticket in tickets %}
                      {% ifequal ticket.ticket_type "Complaint" %}
                        {% ifequal ticket.ticket_state "Open" %}

                            {% include 'forms/ticket_view.html' %}

                        {% endifequal %}
                      {% endifequal %}
                    {% endfor %}

            </div>
              </div>
            </div>
           <!--In Progress-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-primary text-white" >
                <div class="float-left">
                  <i class="fa fa-refresh fa-lg fa-fw"></i>
                  <span class="ml-1">In Progress</span>
                </div>
                <div class="float-right"><strong>{{ user_complaints_count_in_progress }}</strong></div>
              </div>

              <div class="card-body">

                   {% for ticket in tickets %}
                        {% ifequal ticket.ticket_type "Complaint" %}
                          {% ifequal ticket.ticket_state "In Progress" %}

                            {% include 'forms/ticket_view.html' %}

                          {% endifequal %}
                        {% endifequal %}
                      {% endfor %}
              </div>
            </div>
            </div>
           <!--Closed-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-primary text-white" >
                <div class="float-left">
                  <i class="fa fa-times-circle-o fa-lg"></i>
                  <span class="ml-1">Closed</span>
                </div>
                <div class="float-right"><strong>{{ user_complaints_count_closed }}</strong></div>
              </div>

              <div class="card-body">

                    {% for ticket in tickets %}
                      {% ifequal ticket.ticket_type "Complaint" %}
                        {% ifequal ticket.ticket_state "Closed" %}

                          {% include 'forms/ticket_view.html' %}

                        {% endifequal %}
                      {% endifequal %}
                    {% endfor %}

              </div>
            </div>
            </div>
         </div>
        </div>
      </div>
      </div>
        <!--Requests-->
      <div class="collapse" id="collapserequests">
        <div class="card bg-warning ">
        <div class="card card-body">
         <div class="row">
           <!--Open-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-warning text-white" >
                <div class="float-left">
                  <i class="fa fa-envelope-open-o fa-lg"  aria-hidden="true"></i>
                  <span class="ml-1">Open</span>
                </div>
                <div class="float-right"><strong>{{ user_requests_count_open }}</strong></div>
              </div>

              <div class="card-body">

                    {% for ticket in tickets %}
                      {% ifequal ticket.ticket_type "Request" %}
                        {% ifequal ticket.ticket_state "Open" %}

                            {% include 'forms/ticket_view.html' %}

                        {% endifequal %}
                      {% endifequal %}
                    {% endfor %}

              </div>
            </div>
            </div>
           <!--In Progress-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-warning text-white" >
                <div class="float-left">
                  <i class="fa fa-refresh fa-lg fa-fw"></i>
                  <span class="ml-1">In Progress</span>
                </div>
                <div class="float-right"><strong>{{ user_requests_count_in_progress }}</strong></div>
              </div>

              <div class="card-body">

                   {% for ticket in tickets %}
                        {% ifequal ticket.ticket_type "Request" %}
                          {% ifequal ticket.ticket_state "In Progress" %}

                            {% include 'forms/ticket_view.html' %}

                          {% endifequal %}
                        {% endifequal %}
                      {% endfor %}

              </div>
            </div>
            </div>
           <!--Closed-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-warning text-white" >
                <div class="float-left">
                  <i class="fa fa-times-circle-o fa-lg"></i>
                  <span class="ml-1">Closed</span>
                </div>
                <div class="float-right"><strong>{{ user_requests_count_closed }}</strong></div>
              </div>

              <div class="card-body">

                    {% for ticket in tickets %}
                      {% ifequal ticket.ticket_type "Request" %}
                        {% ifequal ticket.ticket_state "Closed" %}

                          {% include 'forms/ticket_view.html' %}

                        {% endifequal %}
                      {% endifequal %}
                    {% endfor %}

              </div>
            </div>
            </div>
         </div>
        </div>
      </div>
      </div>
        <!--Cases-->
      <div class="collapse" id="collapsecases">
        <div class="card bg-danger ">

        <div class="card card-body">
         <div class="row">
           <!--Open-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-danger text-white" >
                <div class="float-left">
                  <i class="fa fa-envelope-open-o fa-lg"  aria-hidden="true"></i>
                  <span class="ml-1">Open</span>
                </div>
                <div class="float-right"><strong>{{ user_cases_count_open }}</strong></div>
              </div>

              <div class="card-body">

                    {% for ticket in tickets %}
                      {% ifequal ticket.ticket_type "Case" %}
                        {% ifequal ticket.ticket_state "Open" %}

                            {% include 'forms/ticket_view.html' %}

                        {% endifequal %}
                      {% endifequal %}
                    {% endfor %}

              </div>
            </div>
            </div>
           <!--In Progress-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-danger text-white" >
                <div class="float-left">
                  <i class="fa fa-refresh fa-lg fa-fw"></i>
                  <span class="ml-1">In Progress</span>
                </div>
                <div class="float-right"><strong>{{ user_cases_count_in_progress }}</strong></div>
              </div>

              <div class="card-body">

                   {% for ticket in tickets %}
                        {% ifequal ticket.ticket_type "Case" %}
                          {% ifequal ticket.ticket_state "In Progress" %}

                            {% include 'forms/ticket_view.html' %}

                          {% endifequal %}
                        {% endifequal %}
                      {% endfor %}

              </div>
            </div>
            </div>
           <!--Closed-->
            <div class="col-xl-4 col-sm-6 mb-3">
            <div class="card">
              <div class="card-header bg-danger text-white" >
                <div class="float-left">
                  <i class="fa fa-times-circle-o fa-lg"></i>
                  <span class="ml-1">Closed</span>
                </div>
                <div class="float-right"><strong>{{ user_cases_count_closed }}</strong></div>
              </div>

              <div class="card-body">

                    {% for ticket in tickets %}
                      {% ifequal ticket.ticket_type "Case" %}
                        {% ifequal ticket.ticket_state "Closed" %}

                          {% include 'forms/ticket_view.html' %}

                        {% endifequal %}
                      {% endifequal %}
                    {% endfor %}

              </div>
            </div>
            </div>
         </div>
        </div>
      </div>
      </div>



{% endblock content %}


{#        <div class="col-xs-4">#}
{#        <div class="card">#}
{#          <div class="card-header">#}
{#            <a class="collapsed card-link" data-toggle="collapse" href="#collapseTwo">In Progress</a>#}
{#          </div>#}
{#          <div id="collapseTwo" class="collapse" data-parent="#accordion">#}
{#            <div class="card-body">#}
{##}
{#              <div class="table">#}
{#          <table class="table table-bordered">#}
{#            <thead>#}
{#              <tr>#}
{#                <th>ID</th>#}
{#                <th>timestamp</th>#}
{#              </tr>#}
{#            </thead>#}
{#            <tbody>#}
{#              {% for ticket in tickets %}#}
{#                {% ifequal ticket.ticket_type "Complaint" %}#}
{#                  {% ifequal ticket.ticket_state "In Progress" %}#}
{##}
{#                    Ticket here#}
{##}
{#                  {% endifequal %}#}
{#                {% endifequal %}#}
{#              {% endfor %}#}
{#              </tbody>#}
{#        </table>#}
{#      </div>#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#        </div>#}
{##}
{#        <div class="col-xs-4">#}
{#        <div class="card">#}
{#          <div class="card-header">#}
{#            <a class="collapsed card-link" data-toggle="collapse" href="#collapseThree">Closed</a>#}
{#          </div>#}
{#          <div id="collapseThree" class="collapse" data-parent="#accordion">#}
{#            <div class="card-body">#}
{##}
{#              <div class="table">#}
{#                <table class="table table-bordered">#}
{#                  <thead>#}
{#                    <tr>#}
{#                      <th>ID</th>#}
{#                      <th>timestamp</th>#}
{#                    </tr>#}
{#                  </thead>#}
{#                  <tbody>#}
{#                    {% for ticket in tickets %}#}
{#                      {% ifequal ticket.ticket_type "Complaint" %}#}
{#                        {% ifequal ticket.ticket_state "Closed" %}#}
{##}
      {#                    Ticket here#}
{##}
{#                        {% endifequal %}#}
{#                      {% endifequal %}#}
{#                    {% endfor %}#}
{#                    </tbody>#}
{#              </table>#}
{#            </div>#}
{#            </div>#}
{#          </div>#}
{#        </div>#}
{#        </div>#}


